!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).xtejsUtils={})}(this,(function(t){"use strict";class e{static isNodeEnvironment(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}static getGlobal(){return this.isNodeEnvironment()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this.fallbackGlobalObject}}e.fallbackGlobalObject={};t.Browser=class{static isAndroid(){return/Android/i.test(navigator.userAgent)}static isIOS(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)}static isMobile(){return this.isAndroid()||this.isIOS()}},t.Geometry=class{static calculateRotatedRectCoordinates({x:t,y:e,width:i,height:o,degree:a=0}){let n,c,r,s;if(a){const l=t+i/2,d=e+o/2;n=this.calculateRotationCoordinate({x:t,y:e,cx:l,cy:d,degree:a}),c=this.calculateRotationCoordinate({x:t+i,y:e,cx:l,cy:d,degree:a}),r=this.calculateRotationCoordinate({x:t+i,y:e+o,cx:l,cy:d,degree:a}),s=this.calculateRotationCoordinate({x:t,y:e+o,cx:l,cy:d,degree:a})}else n={x:t,y:e},c={x:t+i,y:e},r={x:t+i,y:e+o},s={x:t,y:e+o};return{topleft:n,topright:c,bottomright:r,bottomleft:s}}static calculateRotationCoordinate({x:t,y:e,cx:i=0,cy:o=0,degree:a=0}){const n=a*(Math.PI/180),c=Math.sin(n),r=Math.cos(n);return{x:r*(t-i)-c*(e-o)+i,y:c*(t-i)+r*(e-o)+o}}static calculateCenterCoordinate(...t){const e=t.reduce((t,{x:e,y:i})=>(t.x+=e,t.y+=i,t),{x:0,y:0});return e.x/=t.length,e.y/=t.length,e}static calculateAngleBetweenCoordinates(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}static calculateFitDimensions({objectFit:t,intrinsicWidth:e,intrinsicHeight:i,intrinsicTop:o=0,intrinsicLeft:a=0,actualWidth:n,actualHeight:c}){let r=o,s=a,l=e,d=i;if("contain"===t||"cover"===t||"scale-down"===t){const h=e/n,u=i/c,g="contain"===t||"scale-down"===t?Math.min(h,u):Math.max(h,u);r=o+(i-c*g)/2,s=a+(e-n*g)/2,l=n*g,d=c*g}return{top:r,left:s,width:l,height:d}}static getMediaDimensions(t){return t instanceof HTMLImageElement?{width:t.naturalWidth,height:t.naturalHeight}:t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}static isMediaLoaded(t){return t instanceof HTMLImageElement&&t.complete||t instanceof HTMLVideoElement&&4===t.readyState}static drawPoint(t,{x:e,y:i,r:o=3,color:a="aqua"}){const n=t.getContext("2d");n.beginPath(),n.arc(e,i,o,0,2*Math.PI),n.fillStyle=a,n.fill()}static drawCenterPoint(t,{points:e,r:i=3,color:o="aqua"}){const{x:a,y:n}=this.calculateCenterCoordinate(...e);this.drawPoint(t,{x:a,y:n,r:i,color:o})}static drawRect(t,{x:e,y:i,width:o,height:a,degree:n=0,lineWidth:c=2,color:r="aqua"}){const{topleft:s,topright:l,bottomright:d,bottomleft:h}=this.calculateRotatedRectCoordinates({x:e,y:i,width:o,height:a,degree:n}),u=t.getContext("2d");u.beginPath(),u.moveTo(s.x,s.y),u.lineTo(l.x,l.y),u.lineTo(d.x,d.y),u.lineTo(h.x,h.y),u.closePath(),u.lineWidth=c,u.strokeStyle=r,u.stroke()}static flipHorizontal(t){const e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height);for(let t=0;t<i.height;t++)for(let e=0;e<i.width/2;e++){const o=4*t*i.width+4*e,a=4*(t+1)*i.width-4*(e+1);for(let t=0;t<4;t++){let e=i.data[o+t];i.data[o+t]=i.data[a+t],i.data[a+t]=e}}e.putImageData(i,0,0,0,0,i.width,i.height)}},t.Misc=e,t.Types=class{static isAsync(t){return t&&t.constructor&&t.constructor===Object.getPrototypeOf((async function(){})).constructor}},t.version="1.0.0",Object.defineProperty(t,"__esModule",{value:!0})}));
